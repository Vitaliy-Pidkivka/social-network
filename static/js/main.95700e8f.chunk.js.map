{"version":3,"sources":["components/Sidebar/Sidebar.module.scss","serviceWorker.js","components/Sidebar/FriendList/Friend/Friend.jsx","components/Sidebar/FriendList/FriendList.jsx","components/Sidebar/FriendList/FriendListContainer.jsx","components/Sidebar/Sidebar.jsx","components/Music/Music.jsx","components/News/News.jsx","components/Settings/Settings.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/appReducer.jsx","redux/sidebarReducer.jsx","redux/redux-store.jsx","App.jsx","index.js","redux/authReducer.jsx","components/Sidebar/FriendList/Friend/Friend.module.scss","components/Header/Header.module.scss","components/Shared/Button/Button.module.scss","components/Shared/Preloader/Preloader.jsx","components/Shared/Preloader/Preloader.module.scss","components/Shared/Button/Button.jsx","redux/profileReducer.jsx","api/api.jsx","redux/dialogsReducer.jsx","utils/objectHelpers.jsx","redux/usersReducer.jsx","components/Sidebar/FriendList/FriendList.module.scss","assets/images/logo.png"],"names":["module","exports","Boolean","window","location","hostname","match","Friend","props","className","styles","friend","href","link","src","avatarUrl","alt","name","FriendList","state","friendList","map","key","id","FriendListContainer","connect","sidebar","dispatch","Sidebar","nav","to","store","Music","music","News","news","Settings","settings","Header","header","logo","auth","isAuth","login","Button","value","typeClass","onClick","logout","HeaderContainer","this","React","Component","INITIALIZED_SUCCESS","initialState","initialized","appReducer","action","type","sidebarReducer","reducers","combineReducers","profile","profileReducer","dialogs","dialogsReducer","userPage","usersReducer","authReducer","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleware","__store__","ProfileContainer","lazy","UsersContainer","DialogsContainer","Login","App","initializeApp","fallback","Preloader","path","exact","render","component","big","AppContainer","withRouter","a","getAuthUserData","SocialNetworkApp","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message","SET_AUTH_USER_DATA","GET_CAPTCHA_URL","userId","email","captchaUrl","setAuthUserData","payload","authApi","me","data","resultCode","password","rememberMe","captcha","getCaptchaUrl","errorMessage","messages","length","stopSubmit","_error","securityAPI","getCaptcha","url","preloader","sizeClass","imgSrc","imgClassName","button","ADD_POST","REMOVE_POST","SET_USER_PROFILE","SET_USER_STATUS","SAVE_AVATAR_SUCCESS","SET_EDIT_MODE","posts","likes","status","editMode","addPost","newPostBody","removePost","setUserStatus","setEditMode","setProfile","profileApi","getProfile","getStatus","getUserStatus","updateStatus","updateUserStatus","saveAvatar","file","photos","saveProfile","getState","index","indexOf","err","substring","toLowerCase","newPostId","post","startPostId","alert","filter","instance","axios","withCredentials","baseURL","headers","usersApi","getUsers","currentPage","pageSizes","get","response","unfollow","delete","follow","put","avatar","formData","FormData","append","ADD_MESSAGE","dialogList","1","opponent","2","addMessage","messageBody","stateCopy","push","updateObjectInArray","items","itemId","objPropName","newObjProps","item","FOLLOW","UNFOLLOW","SET_USERS","SET_PAGE","SET_TOTAL_USERS_COUNT","SET_IS_FETCHING","users","totalUsersCount","page","isFetching","followingInProgress","followSuccess","unfollowSuccess","setPage","setTotalUsersCount","totalCount","count","toggleIsFetching","toggleFollowingProgress","requestUsers","followUnfollowFlow","apiMethod","actionCreator","unfollowThunk","bind","followThunk","followed"],"mappings":"sKACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,IAAM,qBAAqB,SAAW,0BAA0B,OAAS,0B,mFCW1GC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,wGCFSC,EAbA,SAACC,GAEZ,OACQ,yBAAKC,UAAWC,IAAOC,QACf,uBAAGC,KAAMJ,EAAMK,MACX,yBAAKJ,UAAWC,IAAM,eACjBI,IAAKN,EAAMO,UAAWC,IAAI,MAC/B,0BAAMP,UAAWC,IAAM,cAAmBF,EAAMS,SCEzDC,EARI,SAACV,GAChB,OACI,yBAAKC,UAAWC,IAAO,gBAClBF,EAAMW,MAAMC,WAAWC,KAAI,SAACV,GAAD,OAAY,kBAAC,EAAD,iBAAYA,EAAZ,CAAoBW,IAAKX,EAAOY,W,QCOrEC,EAFcC,aATP,SAACN,GACnB,MAAO,CACHA,MAAOA,EAAMO,YAGI,SAACC,GACtB,MAAO,KAGkBF,CAA4CP,GCW1DU,EAlBC,SAACpB,GACb,OACI,yBAAMC,UAAWC,IAAOgB,SACpB,yBAAMjB,UAAWC,IAAOmB,KACpB,4BACI,4BAAI,kBAAC,IAAD,CAASpB,UAAWC,IAAM,SAAcoB,GAAG,YAA3C,YACJ,4BAAI,kBAAC,IAAD,CAASrB,UAAWC,IAAM,SAAcoB,GAAG,UAA3C,UACJ,4BAAI,kBAAC,IAAD,CAASrB,UAAS,UAAKC,IAAM,UAAgBoB,GAAG,YAAhD,aACJ,4BAAI,kBAAC,IAAD,CAASrB,UAAWC,IAAM,SAAcoB,GAAG,SAA3C,SACJ,4BAAI,kBAAC,IAAD,CAASrB,UAAWC,IAAM,SAAcoB,GAAG,UAA3C,UACJ,4BAAI,kBAAC,IAAD,CAASrB,UAAWC,IAAM,SAAcoB,GAAG,aAA3C,eAGZ,kBAAC,EAAD,CAAqBC,MAAOvB,EAAMuB,U,yBCP/BC,EARD,SAACxB,GACX,OACI,yBAAKC,UAAWC,IAAOuB,OAAvB,U,iBCMOC,EARF,SAAC1B,GACV,OACI,yBAAKC,UAAWC,IAAOyB,MAAvB,S,iBCMOC,EARE,SAAC5B,GACd,OACI,yBAAKC,UAAWC,IAAO2B,UAAvB,a,0CCeOC,EAdA,SAAC9B,GACZ,OACI,4BAAQC,UAAWC,IAAO6B,QACtB,uBAAG3B,KAAK,SAAQ,yBAAKE,IAAK0B,IAAMxB,IAAI,IACnBP,UAAU,UACtB,yBAAMA,UAAWC,IAAO+B,MACnBjC,EAAMkC,OAAS,oCAAE,yBAAKjC,UAAWC,IAAOiC,OAAQnC,EAAMmC,OACnD,kBAACC,EAAA,EAAD,CAAQC,MAAO,SAAUC,UAAW,OAAQC,QAASvC,EAAMwC,UACxD,kBAAC,IAAD,CAASlB,GAAI,UAAb,a,QCTtBmB,E,uKAIE,OACI,kBAAC,EAAWC,KAAK1C,W,GALC2C,IAAMC,WAcrB3B,eAJO,SAACN,GAAD,MAAY,CAC9BuB,OAAQvB,EAAMsB,KAAKC,OACnBC,MAAOxB,EAAMsB,KAAKE,SAEkB,CAACK,YAA1BvB,CAAmCwB,G,sCCjB5CI,EAAsB,yCAExBC,EAAe,CACfC,aAAa,GA0BFC,EAvBI,WAAmC,IAAlCrC,EAAiC,uDAAzBmC,EAAcG,EAAW,uCACjD,OAAQA,EAAOC,MACX,KAAKL,EACD,OAAO,eACAlC,EADP,CAEIoC,aAAa,IAGrB,QACI,OAAOpC,I,wBCjBfmC,EAAe,CACflC,WAAY,CACR,CAACG,GAAI,EAAGR,UAAW,oEAAqEE,KAAM,iBAAkBJ,KAAM,mBACtH,CAACU,GAAI,EAAGR,UAAW,gFAAiFE,KAAM,kBAAmBJ,KAAM,oBACnI,CAACU,GAAI,EAAGR,UAAW,sEAAuEE,KAAM,cAAeJ,KAAM,gBACrH,CAACU,GAAI,EAAGR,UAAW,sEAAuEE,KAAM,eAAgBJ,KAAM,mBAQ/G8C,GAJQ,WAAmC,IAAlCxC,EAAiC,uDAAzBmC,EAAyB,iCACrD,OAAOnC,G,2BCAPyC,GAAWC,YAAgB,CAC3BC,QAASC,IACTC,QAASC,IACTvC,QAASiC,GACTO,SAAUC,KACV1B,KAAM2B,IACNC,KAAMC,KACNC,IAAKf,IAGHgB,GAAmBrE,OAAOsE,sCAAwCC,IAClE3C,GAAQ4C,YAAYf,GAAUY,GAAiBI,YAAgBC,QACrE1E,OAAO2E,UAAY/C,GAEJA,UCXTgD,GAAmB5B,IAAM6B,MAAK,kBAAM,uDACpCC,GAAiB9B,IAAM6B,MAAK,kBAAM,iCAClCE,GAAmB/B,IAAM6B,MAAK,kBAAM,uDACpCG,GAAQhC,IAAM6B,MAAK,kBAAM,uDAEzBI,G,kLAGElC,KAAK1C,MAAM6E,kB,+BAGL,IAAD,OACL,OAAKnC,KAAK1C,MAAM+C,YAIZ,yBAAK9C,UAAU,eACX,kBAAC,EAAD,MACA,0BAAMA,UAAU,WACZ,kBAAC,EAAD,CAASsB,MAAOmB,KAAK1C,MAAMuB,QAC3B,yBAAKtB,UAAU,eACV,kBAAC,WAAD,CAAU6E,SAAU,kBAACC,EAAA,EAAD,OACjB,kBAAC,IAAD,CAAOC,KAAK,oBAAoBC,OAAK,EAC9BC,OAAQ,kBAAM,kBAACX,GAAD,CAAkBhD,MAAO,EAAKvB,MAAMuB,WAEzD,kBAAC,IAAD,CAAOyD,KAAK,gBACLE,OAAQ,SAAClF,GAAD,OAAW,kBAAC0E,GAAD,eAAkBnD,MAAO,EAAKvB,MAAMuB,OAAWvB,OACzE,kBAAC,IAAD,CAAOgF,KAAK,QAAQG,UAAWzD,IAC/B,kBAAC,IAAD,CAAOsD,KAAK,SAASG,UAAW3D,IAChC,kBAAC,IAAD,CAAOwD,KAAK,SAASE,OAAQ,kBAAM,kBAACT,GAAD,SACnC,kBAAC,IAAD,CAAOO,KAAK,YAAYG,UAAWvD,IACnC,kBAAC,IAAD,CAAOoD,KAAK,SAASC,OAAK,EAACE,UAAWR,SAlB/C,kBAACI,EAAA,EAAD,CAAWK,KAAK,Q,GARjBzC,IAAMC,WAwCpByC,GAAenB,YACfoB,IACArE,aAPoB,SAACN,GAAD,MAAY,CAChCoC,YAAapC,EAAMoD,IAAIhB,eAME,CAAC8B,cHnCD,yDAAM,WAAM1D,GAAN,SAAAoE,EAAA,sEACrBpE,EAASqE,eADY,OAEvBrE,EAN6B,CACrC+B,KAAML,IAGyB,2CAAN,yDGiCVqB,CAE4BU,IAUhCa,GARQ,WACnB,OAAO,kBAAC,IAAD,KACK,kBAAC,IAAD,CAAUlE,MAAOA,IACb,kBAAC8D,GAAD,SCzDpBK,IAASR,OACL,kBAAC,IAAMS,WAAP,KACI,kBAAC,GAAD,OAEJC,SAASC,eAAe,SduHtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,a,uLetItBC,EAAqB,yCACrBC,EAAkB,sCAEpB3D,EAAe,CACf4D,OAAQ,KACRC,MAAO,KACPxE,MAAO,KACPD,QAAQ,EACR0E,WAAY,MAsBHC,EAAkB,SAACH,EAAQC,EAAOxE,EAAOD,GAAvB,MAAmC,CAC9DgB,KAAMsD,EACNM,QAAS,CAACJ,SAAQC,QAAOxE,QAAOD,YAIvBsD,EAAkB,yDAAM,WAAMrE,GAAN,uBAAAoE,EAAA,sEACdwB,IAAQC,KADM,OAGT,KAFlBC,EAD2B,QAGxBC,aAAmB,EACCD,EAAKA,KAAzBlG,EADkB,EAClBA,GAAI4F,EADc,EACdA,MAAOxE,EADO,EACPA,MAChBhB,EAAS0F,EAAgB9F,EAAI4F,EAAOxE,GAAO,KALd,2CAAN,uDASlBA,EAAQ,SAACwE,EAAOQ,EAAUC,EAAYC,GAA9B,8CAA0C,WAAMlG,GAAN,iBAAAoE,EAAA,sEACxCwB,IAAQ5E,MAAMwE,EAAOQ,EAAUC,EAAYC,GADH,OAGnC,KAFlBJ,EADqD,QAGlDC,WACL/F,EAASqE,MAEe,KAApByB,EAAKC,YACL/F,EAASmG,KAETC,EAAe,eACfN,EAAKO,SAASC,OAAS,IACvBF,EAAeN,EAAKO,UAExBrG,EAASuG,YAAW,QAAS,CAACC,OAAQJ,MAbiB,2CAA1C,uDAgBR/E,EAAS,yDAAM,WAAMrB,GAAN,SAAAoE,EAAA,sEACLwB,IAAQvE,SADH,OAEA,IAFA,OAEf0E,YACL/F,EAAS0F,EAAgB,KAAM,KAAM,MAAM,IAHvB,2CAAN,uDAMTS,EAAgB,yDAAM,WAAMnG,GAAN,eAAAoE,EAAA,sEACNqC,IAAYC,aAAa5B,MAAK,SAAAgB,GAAI,OAAIA,EAAKa,OADrC,OACzBlB,EADyB,OAE/BzF,EAnCuC,CAAC+B,KAAMuD,EAAiBqB,IAmCpClB,IAFI,2CAAN,uDAMdhD,IA9DK,WAAmC,IAAlCjD,EAAiC,uDAAzBmC,EAAcG,EAAW,uCAClD,OAAQA,EAAOC,MACX,KAAKsD,EACD,OAAO,eACA7F,EADP,GAEOsC,EAAO6D,SAGlB,KAAKL,EACD,OAAO,eACA9F,EADP,CAEIiG,WAAY3D,EAAO6E,MAG3B,QACI,OAAOnH,K,mBC5BnBnB,EAAOC,QAAU,CAAC,OAAS,uBAAuB,eAAiB,+BAA+B,aAAe,+B,mBCAjHD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,KAAO,qBAAqB,MAAQ,wB,mBCAtFD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,KAAO,qBAAqB,OAAS,uBAAuB,MAAQ,sBAAsB,UAAY,4B,gCCDxJ,qCAciBsF,IAZC,SAAC,GAAsB,IAArBK,EAAoB,EAApBA,IAAKnF,EAAe,EAAfA,UACrB,OACI,yBAAKA,UAAS,UAAKC,IAAO6H,UAAZ,YAAyB3C,GAAOlF,IAAOkF,IAAvC,YAA8CnF,GAAa,KACrE,8BACA,8BACA,8BACA,iC,mBCPZT,EAAOC,QAAU,CAAC,UAAY,6BAA6B,IAAM,uBAAuB,WAAW,8B,gCCDnG,qCAgBe2C,IAbA,SAAC,GAA8E,IAA7EC,EAA4E,EAA5EA,MAAMa,EAAsE,EAAtEA,KAAKZ,EAAiE,EAAjEA,UAAU0F,EAAuD,EAAvDA,UAAU/H,EAA6C,EAA7CA,UAAUgI,EAAmC,EAAnCA,OAAQC,EAA2B,EAA3BA,aAAc3F,EAAa,EAAbA,QAE5E,OACI,4BAAQW,KAAMA,GAAQ,SAAUX,QAASA,EACjCtC,UAAS,UAAKC,IAAOiI,OAAZ,YAAsB7F,GAAapC,IAAOoC,GAA1C,YAAwD0F,GACjE9H,IAAO8H,GADE,YACY/H,GAAaA,IACrCoC,EACA4F,GAAU,yBAAK3H,IAAK2H,EAAQhI,UAAWiI,EAAc1H,IAAI,W,iXCPhE4H,EAAW,kCACXC,EAAc,qCACdC,EAAmB,0CACnBC,EAAkB,yCAClBC,EAAsB,6CACtBC,EAAgB,uCAGlB3F,EAAe,CACf4F,MAAO,CACH,CAAC3H,GAAI,EAAGwF,QAAS,mBAAoBoC,MAAO,IAC5C,CAAC5H,GAAI,EAAGwF,QAAS,mBAAoBoC,MAAO,IAC5C,CAAC5H,GAAI,EAAGwF,QAAS,iCAAkCoC,MAAO,KAE9DrF,QAAS,KACTsF,OAAQ,GACRC,UAAU,GA+CDC,EAAU,SAACC,GAAD,MAAkB,CAAC7F,KAAMkF,EAAUW,gBAC7CC,EAAa,SAACjI,GAAD,MAAS,CAACmC,KAAMmF,EAAatH,OAE1CkI,EAAgB,SAACL,GAAD,MAAa,CAAC1F,KAAMqF,EAAiBK,WAErDM,EAAc,SAACL,GAAD,MAAe,CAAC3F,KAAMuF,EAAeI,aAEnDM,EAAa,SAACzC,GAAD,8CAAY,WAAMvF,GAAN,eAAAoE,EAAA,sEACf6D,IAAWC,WAAW3C,GADP,OAC5BO,EAD4B,OAElC9F,EAPwC,CAAC+B,KAAMoF,EAAkBhF,QAOzC2D,IAFU,2CAAZ,uDAIbqC,EAAY,SAAC5C,GAAD,8CAAY,WAAMvF,GAAN,eAAAoE,EAAA,sEACd6D,IAAWG,cAAc7C,GADX,OAC3BO,EAD2B,OAEjC9F,EAAS8H,EAAchC,IAFU,2CAAZ,uDAIZuC,EAAe,SAACZ,GAAD,8CAAY,WAAMzH,GAAN,SAAAoE,EAAA,sEACjB6D,IAAWK,iBAAiBb,GADX,OAEZ,IAFY,OAE3B1B,YACL/F,EAAS8H,EAAcL,IAHS,2CAAZ,uDAMfc,EAAa,SAACC,GAAD,8CAAU,WAAMxI,GAAN,eAAAoE,EAAA,sEACb6D,IAAWM,WAAWC,GADT,OAER,KADlB1C,EAD0B,QAEvBC,YACL/F,GApB0ByI,EAoBC3C,EAAKA,KAAK2C,OApBC,CAAC1G,KAAMsF,EAAqBoB,YAiBtC,iCAjBH,IAACA,IAiBE,OAAV,uDAMbC,EAAc,SAACvG,GAAD,8CAAa,WAAOnC,EAAU2I,GAAjB,qBAAAvE,EAAA,6DAC9BmB,EAASoD,IAAW7H,KAAKyE,OADK,SAEjB0C,IAAWS,YAAYvG,GAFN,OAGZ,KADlB2D,EAF8B,QAG3BC,YACL/F,EAASgI,EAAWzC,IACpBvF,EAAS+H,GAAY,MAEjBa,EAAQ9C,EAAKO,SAAS,GAAGwC,QAAQ,KACjCC,EAAMhD,EAAKO,SAAS,GAAG0C,UAAUH,EAAQ,EAAG9C,EAAKO,SAAS,GAAGC,OAAS,GAAG0C,cAC7EhJ,EAASuG,YAAW,mBAAoB,CAAC,SAAW,eAAGuC,EAAMhD,EAAKO,SAAS,QAT3C,2CAAb,yDAaZjE,IAnFQ,WAAmC,IAAlC5C,EAAiC,uDAAzBmC,EAAcG,EAAW,uCACrD,OAAQA,EAAOC,MACX,KAAKkF,EACD,GAAInF,EAAO8F,YAAa,CACpB,IAAIqB,EAAYzJ,EAAM+H,MAAM7H,KAAI,SAAAwJ,GAAI,OAAIA,EAAKtJ,GAAKJ,EAAM2J,aAAeD,EAAKtJ,GAAK,KACjF,OAAO,eAAIJ,EAAX,CAAkB+H,MAAM,GAAD,mBAAM/H,EAAM+H,OAAZ,CAAmB,CAAC3H,GAAIqJ,EAAW7D,QAAStD,EAAO8F,YAAaJ,MAAO,OAG9F,OADA4B,MAAM,oDACC5J,EAGf,KAAK0H,EACD,OAAO,eACA1H,EADP,CAEI+H,MAAO/H,EAAM+H,MAAM8B,QAAO,SAAAH,GAAI,OAAIA,EAAKtJ,KAAOkC,EAAOlC,QAG7D,KAAKuH,EACD,OAAO,eAAI3H,EAAX,CAAkB2C,QAASL,EAAOK,UAEtC,KAAKiF,EACD,OAAO,eACA5H,EADP,CAEIiI,OAAQ3F,EAAO2F,SAGvB,KAAKJ,EACD,OAAO,eACA7H,EADP,CAEI2C,QAAQ,eAAK3C,EAAM2C,QAAZ,CAAqBsG,OAAQ3G,EAAO2G,WAGnD,KAAKnB,EACD,OAAO,eACA9H,EADP,CAEIkI,SAAU5F,EAAO4F,WAGzB,QACI,OAAOlI,K,oDC9DnB,oJAEM8J,EAAWC,SAAa,CAC1BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACL,UAAW,0CAINC,EAAW,CACpBC,SADoB,WACuB,IAAlCC,EAAiC,uDAAnB,EAAGC,EAAgB,uDAAJ,GAClC,OAAOR,EAASS,IAAT,qBACWF,EADX,kBACgCC,IAClChF,MAAK,SAAAkF,GAAQ,OAAIA,EAASlE,SAEnCmE,SANoB,SAMX1E,GACL,OAAO+D,EAASY,OAAT,iBACO3E,IACTT,MAAK,SAAAkF,GAAQ,OAAIA,EAASlE,SAEnCqE,OAXoB,SAWb5E,GACH,OAAO+D,EAASJ,KAAT,iBACO3D,IACTT,MAAK,SAAAkF,GAAQ,OAAIA,EAASlE,UAI1BF,EAAU,CACnBC,GADmB,WAEf,OAAOyD,EAASS,IAAT,WACFjF,MAAK,SAAAkF,GAAQ,OAAIA,EAASlE,SAEnC9E,MALmB,SAKbwE,EAAOQ,GAA+C,IAArCC,EAAoC,wDAAhBC,EAAgB,uDAAN,KACjD,OAAOoD,EAASJ,KAAK,aAAc,CAAC1D,QAAOQ,WAAUC,aAAYC,YAC5DpB,MAAK,SAAAkF,GAAQ,OAAIA,EAASlE,SAEnCzE,OATmB,WAUf,OAAOiI,EAASY,OAAO,cAClBpF,MAAK,SAAAkF,GAAQ,OAAIA,EAASlE,UAI1BW,EAAc,CACvBC,WADuB,WAEnB,OAAO4C,EAASS,IAAI,4BACfjF,MAAK,SAAAkF,GAAQ,OAAIA,EAASlE,UAI1BmC,EAAa,CACtBC,WADsB,SACX3C,GACP,OAAO+D,EAASS,IAAT,kBACQxE,IACVT,MAAK,SAAAkF,GAAQ,OAAIA,EAASlE,SAEnCsC,cANsB,SAMR7C,GACV,OAAO+D,EAASS,IAAT,yBACexE,IACjBT,MAAK,SAAAkF,GAAQ,OAAIA,EAASlE,SAEnCwC,iBAXsB,SAWLb,GACb,OAAO6B,EAASc,IAAT,iBACe,CAAC3C,WAClB3C,MAAK,SAAAkF,GAAQ,OAAIA,EAASlE,SAEnCyC,WAhBsB,SAgBX8B,GACP,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBf,EAASc,IAAT,gBACcE,EAAU,CACvBZ,QAAS,CAAC,eAAgB,yBAE7B5E,MAAK,SAAAkF,GAAQ,OAAIA,EAASlE,SAEnC4C,YAzBsB,SAyBVvG,GACR,OAAOmH,EAASc,IAAI,UAAWjI,GAC1B2C,MAAK,SAAAkF,GAAQ,OAAIA,EAASlE,W,6EC7EjC2E,EAAc,qCAGhB9I,EAAe,CACf+I,WAAY,CACR,CAACpL,KAAM,iBAAkBM,GAAI,GAC7B,CAACN,KAAM,kBAAmBM,GAAI,IAElCyG,SAAU,CACNsE,EAAG,CAAC,CAACvF,QAAS,mBAAoB,CAACA,QAAS,oBAAqBwF,UAAU,IAC3EC,EAAG,CAAC,CAACzF,QAAS,8BAA+B,CAACA,QAAS,iCAAkCwF,UAAU,GAC/F,CAACxF,QAAS,eAAgBwF,UAAU,GAAO,CAACxF,QAAS,uBAgBpD0F,EAAa,SAAClL,EAAGmL,GAAJ,MAAqB,CAAChJ,KAAM0I,EAAa7K,KAAImL,gBAExDzI,IAdQ,WAAmC,IAAlC9C,EAAiC,uDAAzBmC,EAAcG,EAAW,uCACrD,OAAQA,EAAOC,MACX,KAAK0I,EACD,IAAIO,EAAS,eAAOxL,EAAP,CAAc6G,SAAS,eAAK7G,EAAM6G,YAE/C,OADA2E,EAAU3E,SAASvE,EAAOlC,IAAIqL,KAAK,CAACrL,GAAI,EAAGwF,QAAStD,EAAOiJ,YAAavD,MAAO,IACxEwD,EAEX,QACI,OAAOxL,K,6RCvBN0L,EAAsB,SAACC,EAAOC,EAAQC,EAAaC,GAO5D,OANWH,EAAMzL,KAAI,SAAA6L,GACjB,OAAIA,EAAKF,KAAiBD,EACf,eAAIG,EAAX,GAAoBD,GAEjBC,MCFTC,EAAS,8BACTC,EAAW,gCACXC,EAAY,iCACZC,EAAW,gCACXC,EAAwB,6CACxBC,EAAkB,uCAIpBlK,EAAe,CACfmK,MAAO,GACPhC,UAAW,GACXiC,gBAAiB,EACjBC,KAAM,EACNC,YAAY,EACZC,oBAAqB,IAuDZC,EAAgB,SAAC5G,GAAD,MAAa,CAACxD,KAAMyJ,EAAQjG,WAC5C6G,EAAkB,SAAC7G,GAAD,MAAa,CAACxD,KAAM0J,EAAUlG,WAEhD8G,EAAU,SAACL,GAAD,MAAW,CAACjK,KAAM4J,EAAUK,SACtCM,EAAqB,SAACC,GAAD,MAAiB,CAACxK,KAAM6J,EAAuBY,MAAOD,IAC3EE,EAAmB,SAACR,GAAD,MAAiB,CAAClK,KAAM8J,EAAiBI,WAAYA,IACxES,EAA0B,SAACT,EAAY1G,GAAb,MAAyB,CAC5DxD,KAvEiC,oDAwEjCkK,WAAYA,EACZ1G,WAGSoH,EAAe,SAAC9C,EAAaC,GACtC,OAAO,SAAC9J,GACJA,EAASyM,GAAiB,IAC1B9C,IAASC,SAASC,EAAaC,GAC1BhF,MAAK,SAAAgB,GAdM,IAACgG,EAeT9L,EAASyM,GAAiB,IAC1BzM,GAhBS8L,EAgBShG,EAAKqF,MAhBH,CAACpJ,KAAM2J,EAAWI,WAiBtC9L,EAASsM,EAAmBxG,EAAKyG,kBAI3CK,EAAkB,uCAAG,WAAO5M,EAAUuF,EAAQsH,EAAWC,GAApC,SAAA1I,EAAA,6DACvBpE,EAAS0M,GAAwB,EAAMnH,IADhB,SAENsH,EAAUtH,GAFJ,OAGC,IAHD,OAGdQ,YACL/F,EAAS8M,EAAcvH,IAE3BvF,EAAS0M,GAAwB,EAAOnH,IANjB,2CAAH,4DAQXwH,EAAgB,SAACxH,GAAD,8CAAY,WAAMvF,GAAN,SAAAoE,EAAA,sDACrCwI,EAAmB5M,EAAUuF,EAAQoE,IAASM,SAAS+C,KAAKrD,KAAWyC,GADlC,2CAAZ,uDAGhBa,EAAc,SAAC1H,GAAD,8CAAY,WAAMvF,GAAN,SAAAoE,EAAA,sDACnCwI,EAAmB5M,EAAUuF,EAAQoE,IAASQ,OAAO6C,KAAKrD,KAAWwC,GADlC,2CAAZ,uDAIZ3J,IA1FM,WAAmC,IAAlChD,EAAiC,uDAAzBmC,EAAcG,EAAW,uCACnD,OAAQA,EAAOC,MACX,KAAKyJ,EACD,OAAO,eACAhM,EADP,CAEIsM,MAAOZ,EAAoB1L,EAAMsM,MAAOhK,EAAOyD,OAAQ,KAAM,CAAC2H,UAAU,MAGhF,KAAKzB,EACD,OAAO,eACAjM,EADP,CAEIsM,MAAOZ,EAAoB1L,EAAMsM,MAAOhK,EAAOyD,OAAQ,KAAM,CAAC2H,UAAU,MAGhF,KAAKxB,EACD,OAAO,eACAlM,EADP,CAEIsM,MAAM,YAAKhK,EAAOgK,SAG1B,KAAKH,EACD,OAAO,eACAnM,EADP,CAEIwM,KAAMlK,EAAOkK,OAGrB,KAAKJ,EACD,OAAO,eACApM,EADP,CAEIuM,gBAAiBjK,EAAO0K,QAGhC,KAAKX,EACD,OAAO,eACArM,EADP,CAEIyM,WAAYnK,EAAOmK,aAG3B,IAlD6B,oDAmDzB,OAAO,eACAzM,EADP,CAEI0M,oBACIpK,EAAOmK,WAAP,sBACUzM,EAAM0M,qBADhB,CACqCpK,EAAOyD,SAD5C,YAEU/F,EAAM0M,oBAAoB7C,QAAO,SAAAzJ,GAAE,OAAIA,IAAOkC,EAAOyD,aAG3E,QACI,OAAO/F,K,mBCpEnBnB,EAAOC,QAAU,CAAC,cAAc,kC,kFCDhCD,EAAOC,QAAU,IAA0B,mC","file":"static/js/main.95700e8f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__1D5pD\",\"nav\":\"Sidebar_nav__1Jhnn\",\"nav__btn\":\"Sidebar_nav__btn__3P_qu\",\"active\":\"Sidebar_active__1j-fd\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport styles from './Friend.module.scss'\r\n\r\nconst Friend = (props) => {\r\n\r\n    return (\r\n            <div className={styles.friend}>\r\n                    <a href={props.link}>\r\n                        <img className={styles['friend__avatar']}\r\n                             src={props.avatarUrl} alt=\"#\"/>\r\n                        <span className={styles['friend__name']}>{props.name}</span>\r\n                    </a>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default Friend;\r\n","import React from 'react';\r\nimport styles from './FriendList.module.scss'\r\nimport Friend from \"./Friend/Friend\";\r\n\r\nconst FriendList = (props) => {\r\n    return (\r\n        <div className={styles['friend-list']}>\r\n            {props.state.friendList.map((friend) => <Friend {...friend} key={friend.id}/>)}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FriendList;\r\n","import FriendList from \"./FriendList\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) =>{\r\n    return {\r\n        state: state.sidebar\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) =>{\r\n    return { }\r\n}\r\n\r\nconst FriendListContainer  = connect(mapStateToProps,mapDispatchToProps)(FriendList)\r\n\r\nexport default FriendListContainer;\r\n","import React from 'react';\r\nimport styles from './Sidebar.module.scss'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FriendListContainer from \"./FriendList/FriendListContainer\";\r\n\r\nconst Sidebar = (props) => {\r\n    return (\r\n        <div  className={styles.sidebar}>\r\n            <nav  className={styles.nav}>\r\n                <ul>\r\n                    <li><NavLink className={styles['nav__btn']} to=\"/profile\">Profile</NavLink></li>\r\n                    <li><NavLink className={styles['nav__btn']} to=\"/users\">Users</NavLink></li>\r\n                    <li><NavLink className={`${styles['nav__btn']}`} to=\"/dialogs\">Messages</NavLink></li>\r\n                    <li><NavLink className={styles['nav__btn']} to=\"/news\">News</NavLink></li>\r\n                    <li><NavLink className={styles['nav__btn']} to=\"/music\">Music</NavLink></li>\r\n                    <li><NavLink className={styles['nav__btn']} to=\"/settings\">Settings</NavLink></li>\r\n                </ul>\r\n            </nav>\r\n            <FriendListContainer store={props.store}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Sidebar;\r\n","import React from 'react';\r\nimport styles from './Music.module.scss'\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div className={styles.music}>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport styles from './News.module.scss'\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div className={styles.news}>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport styles from './Settings.module.scss'\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div className={styles.settings}>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\nimport styles from './Header.module.scss';\nimport {NavLink} from \"react-router-dom\";\nimport Button from \"../Shared/Button/Button\";\nimport logo from '../../assets/images/logo.png'\n\nconst Header = (props) => {\n    return (\n        <header className={styles.header}>\n            <a href=\"#href\"><img src={logo} alt=\"#\"\n                             className=\"logo\"/></a>\n                 <div  className={styles.auth}>\n                     {props.isAuth ? <><div className={styles.login}>{props.login}</div>\n                         <Button value={'logout'} typeClass={'aqua'} onClick={props.logout}/></>\n                         :  <NavLink to={'/login'}> Login</ NavLink> }\n                 </div>\n        </header>\n    );\n}\n\nexport default Header;\n","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport { logout} from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"social-network/app/INITIALIZED_SUCCESS\";\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({\r\n    type: INITIALIZED_SUCCESS\r\n});\r\n//redux-thunk\r\nexport const initializeApp = () => async dispatch => {\r\n        await dispatch(getAuthUserData());\r\n            dispatch(initializedSuccess());\r\n}\r\n\r\n\r\nexport default appReducer;","let initialState = {\r\n    friendList: [\r\n        {id: 1, avatarUrl: 'https://cdn1.iconfinder.com/data/icons/avatars-1-5/136/84-512.png', name: 'Tania Pidkivka', link: '#Tania-Pidkivka',},\r\n        {id: 2, avatarUrl: 'https://cdn4.iconfinder.com/data/icons/men-avatars-icons-set-1/256/21-512.png', name: 'Dmutro Pidkivka', link: '#Dmutro-Pidkivka',},\r\n        {id: 3, avatarUrl: 'https://cdn2.iconfinder.com/data/icons/men-avatars/33/man_2-512.png', name: 'Oleg Pupkin', link: '#Oleg-Pupkin',},\r\n        {id: 4, avatarUrl: 'https://cdn2.iconfinder.com/data/icons/men-avatars/33/man_7-512.png', name: 'Nazar Pupkin', link: '#Nazar-Pupkin',},\r\n    ]\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profile: profileReducer,\r\n    dialogs: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    userPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.__store__ = store\r\n\r\nexport default store","import React, {Suspense} from 'react';\r\nimport './App.scss';\r\nimport Sidebar from \"./components/Sidebar/Sidebar\";\r\nimport {HashRouter, Route, withRouter} from \"react-router-dom\";\r\nimport Music from \"./components/Music/Music\";\r\nimport News from \"./components/News/News\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {compose} from \"redux\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {initializeApp} from \"./redux/appReducer\";\r\nimport Preloader from \"./components/Shared/Preloader/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\r\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"));\r\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\r\nconst Login = React.lazy(() => import(\"./components/Login/Login\"));\r\n\r\nclass App extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader big={true}/>\r\n        }\r\n        return (\r\n            <div className=\"app-wrapper\">\r\n                <HeaderContainer/>\r\n                <main className=\"content\">\r\n                    <Sidebar store={this.props.store}/>\r\n                    <div className=\"main-screen\">\r\n                        {<Suspense fallback={<Preloader/>}>\r\n                            <Route path=\"/profile/:userId?\" exact\r\n                                   render={() => <ProfileContainer store={this.props.store}/>}\r\n                            />\r\n                            <Route path=\"/dialogs/:id?\"\r\n                                   render={(props) => <DialogsContainer store={this.props.store} {...props} />}/>\r\n                            <Route path=\"/news\" component={News}/>\r\n                            <Route path=\"/music\" component={Music}/>\r\n                            <Route path=\"/users\" render={() => <UsersContainer/>}/>\r\n                            <Route path=\"/settings\" component={Settings}/>\r\n                            <Route path=\"/login\" exact component={Login}/>\r\n                        </Suspense>}\r\n                    </div>\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\n\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App);\r\n\r\nlet SocialNetworkApp = () => {\r\n    return <HashRouter>\r\n                <Provider store={store}>\r\n                    <AppContainer/>\r\n                </Provider>\r\n            </HashRouter>\r\n}\r\n\r\nexport default SocialNetworkApp\r\n","import './index.css';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport SocialNetworkApp from \"./App\";\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <SocialNetworkApp/>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n","import {authApi, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_AUTH_USER_DATA = \"social-network/auth/SET-AUTH-USER-DATA\";\r\nconst GET_CAPTCHA_URL = 'socila-network/auth/GET-CAPTCHA-URL'\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        }\r\n        case GET_CAPTCHA_URL: {\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.url\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_AUTH_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\nexport const getCaptchaSuccess = (url) => ({type: GET_CAPTCHA_URL, url});\r\n//redux-thunk\r\nexport const getAuthUserData = () => async dispatch => {\r\n    const data = await authApi.me()\r\n\r\n    if (data.resultCode === 0) {\r\n        let {id, email, login} = data.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async dispatch => {\r\n    const data = await authApi.login(email, password, rememberMe, captcha)\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    }  else {\r\n        if (data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let errorMessage = 'Common error'\r\n        if (data.messages.length > 0) {\r\n            errorMessage = data.messages\r\n        }\r\n        dispatch(stopSubmit('login', {_error: errorMessage}))\r\n    }\r\n}\r\nexport const logout = () => async dispatch => {\r\n    const data = await authApi.logout()\r\n    if (data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\nexport const getCaptchaUrl = () => async dispatch => {\r\n    const captchaUrl = await securityAPI.getCaptcha().then(data => data.url)\r\n    dispatch(getCaptchaSuccess(captchaUrl))\r\n}\r\n\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__2XnIY\",\"friend__avatar\":\"Friend_friend__avatar__1KXj9\",\"friend__name\":\"Friend_friend__name__2WFko\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__rT6pv\",\"auth\":\"Header_auth__1BV76\",\"login\":\"Header_login__10Y4A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2uuiP\",\"aqua\":\"Button_aqua__2Mirx\",\"purple\":\"Button_purple__2pfhl\",\"small\":\"Button_small__9HVzC\",\"preloader\":\"Button_preloader__GWw4s\"};","import React from \"react\";\r\nimport styles from './Preloader.module.scss'\r\nconst Preloader = ({big, className}) => {\r\n    return(\r\n        <div className={`${styles.preloader} ${big && styles.big} ${className || ''}`}>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport  default  Preloader\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1y1FO\",\"big\":\"Preloader_big__3ZU5x\",\"lds-ring\":\"Preloader_lds-ring__1snkW\"};","import React from 'react';\r\nimport styles from \"./Button.module.scss\";\r\n\r\nconst Button = ({value,type,typeClass,sizeClass,className,imgSrc, imgClassName, onClick}) => {\r\n\r\n    return (\r\n        <button type={type || 'button'} onClick={onClick}\r\n                className={`${styles.button} ${typeClass && styles[typeClass]} ${sizeClass &&\r\n                styles[sizeClass]} ${className && className}`}>\r\n            {value}\r\n            {imgSrc && <img src={imgSrc} className={imgClassName} alt=\"img\"/> }\r\n        </button>\r\n    )\r\n\r\n}\r\n\r\nexport default Button;","import {profileApi} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = \"social-network/profile/ADD-POST\";\r\nconst REMOVE_POST = \"social-network/profile/REMOVE-POST\";\r\nconst SET_USER_PROFILE = \"social-network/profile/SET-USER-PROFILE\";\r\nconst SET_USER_STATUS = \"social-network/profile/SET-USER-STATUS\";\r\nconst SAVE_AVATAR_SUCCESS = \"social-network/profile/SAVE-AVATAR-SUCCESS\";\r\nconst SET_EDIT_MODE = \"social-network/profile/SET-EDIT-MODE\";\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Hi, how are you?\", likes: 15},\r\n        {id: 2, message: \"It's my new post\", likes: 20},\r\n        {id: 3, message: \"Social network in progress....\", likes: 52},\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n    editMode: false,\r\n}\r\n\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            if (action.newPostBody) {\r\n                let newPostId = state.posts.map(post => post.id > state.startPostId && post.id + 1)\r\n                return {...state, posts: [...state.posts, {id: newPostId, message: action.newPostBody, likes: 0}],}\r\n            } else {\r\n                alert(\"You didn't write anything, please write the text\")\r\n                return state\r\n            }\r\n        }\r\n        case REMOVE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id !== action.id)\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SAVE_AVATAR_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        case SET_EDIT_MODE: {\r\n            return {\r\n                ...state,\r\n                editMode: action.editMode\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPost = (newPostBody) => ({type: ADD_POST, newPostBody});\r\nexport const removePost = (id) => ({type: REMOVE_POST, id});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status});\r\nexport const avatarSaveSuccess = (photos) => ({type: SAVE_AVATAR_SUCCESS, photos})\r\nexport const setEditMode = (editMode) => ({type: SET_EDIT_MODE, editMode})\r\n//redux-thunk\r\nexport const setProfile = (userId) => async dispatch => {\r\n    const data = await profileApi.getProfile(userId)\r\n    dispatch(setUserProfile(data))\r\n}\r\nexport const getStatus = (userId) => async dispatch => {\r\n    const data = await profileApi.getUserStatus(userId)\r\n    dispatch(setUserStatus(data))\r\n}\r\nexport const updateStatus = (status) => async dispatch => {\r\n    const data = await profileApi.updateUserStatus(status)\r\n    if (data.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n    }\r\n}\r\nexport const saveAvatar = (file) => async dispatch => {\r\n    const data = await profileApi.saveAvatar(file)\r\n    if (data.resultCode === 0) {\r\n        dispatch(avatarSaveSuccess(data.data.photos))\r\n    }\r\n}\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId\r\n    const data = await profileApi.saveProfile(profile)\r\n    if (data.resultCode === 0) {\r\n        dispatch(setProfile(userId))\r\n        dispatch(setEditMode(false))\r\n    } else{\r\n        let index = data.messages[0].indexOf('>')\r\n        let err = data.messages[0].substring(index + 1, data.messages[0].length - 1).toLowerCase()\r\n        dispatch(stopSubmit('description-form', {'contacts': {[err]: data.messages[0]}}))\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": '56713e4f-1fb2-40c8-8cb7-285eab7c3268'\r\n    }\r\n})\r\n\r\nexport const usersApi = {\r\n    getUsers(currentPage = 1, pageSizes = 10) {\r\n        return instance.get(\r\n            `users?page=${currentPage}&count=${pageSizes}`)\r\n            .then(response => response.data)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(\r\n            `follow/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(\r\n            `follow/${userId}`)\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const authApi = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => response.data)\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post('auth/login', {email, password, rememberMe, captcha})\r\n            .then(response => response.data)\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n            .then(response => response.data)\r\n    },\r\n\r\n}\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get('security/get-captcha-url')\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const profileApi = {\r\n    getProfile(userId) {\r\n        return instance.get(\r\n            `profile/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    getUserStatus(userId) {\r\n        return instance.get(\r\n            `profile/status/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    updateUserStatus(status) {\r\n        return instance.put(\r\n            `profile/status`, {status})\r\n            .then(response => response.data)\r\n    },\r\n    saveAvatar(avatar) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", avatar);\r\n        return instance.put(\r\n            `profile/photo`, formData, {\r\n                headers: {\"Content-Type\": \"multipart/form-data\"}\r\n            })\r\n            .then(response => response.data)\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put('profile', profile)\r\n            .then(response => response.data)\r\n    },\r\n}\r\n\r\n","const ADD_MESSAGE = \"social-network/dialogs/ADD-MESSAGE\"\r\n\r\n\r\nlet initialState = {\r\n    dialogList: [\r\n        {name: 'Tania Pidkivka', id: 1},\r\n        {name: 'Dmutro Pidkivka', id: 2}\r\n    ],\r\n    messages: {\r\n        1: [{message: 'Hi how are you?'}, {message: \"I'm fine and you?\", opponent: true},],\r\n        2: [{message: 'Hello, what are you doing?'}, {message: \"Hi, i'm playing computer games\", opponent: true},\r\n            {message: \"How are you?\", opponent: true}, {message: \"I'm fine, thanks\"},],\r\n    },\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            let stateCopy = {...state, messages: {...state.messages}}\r\n            stateCopy.messages[action.id].push({id: 5, message: action.messageBody, likes: 0})\r\n            return stateCopy\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addMessage = (id,messageBody) => ({type: ADD_MESSAGE, id, messageBody});\r\n\r\nexport default dialogsReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    let arr =  items.map(item => {\r\n        if (item[objPropName] === itemId) {\r\n            return {...item, ...newObjProps}\r\n        }\r\n        return item\r\n    })\r\n    return arr\r\n}","import {usersApi} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/objectHelpers\";\r\n\r\nconst FOLLOW = \"social-network/users/FOLLOW\";\r\nconst UNFOLLOW = \"social-network/users/UNFOLLOW\";\r\nconst SET_USERS = \"social-network/users/SET-USERS\";\r\nconst SET_PAGE = \"social-network/users/SET-PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"social-network/users/SET-TOTAL-USERS-COUNT\";\r\nconst SET_IS_FETCHING = \"social-network/users/SET-IS-FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"social-network/users/TOGGLE-IS-FOLLOWING-PROGRESS\";\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSizes: 15,\r\n    totalUsersCount: 0,\r\n    page: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            }\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        }\r\n        case SET_PAGE: {\r\n            return {\r\n                ...state,\r\n                page: action.page,\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        }\r\n        case SET_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress:\r\n                    action.isFetching\r\n                        ? [...state.followingInProgress, action.userId]\r\n                        : [...state.followingInProgress.filter(id => id !== action.userId)]\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setPage = (page) => ({type: SET_PAGE, page});\r\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: SET_IS_FETCHING, isFetching: isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching: isFetching,\r\n    userId\r\n});\r\n// redux-thunk\r\nexport const requestUsers = (currentPage, pageSizes) => {\r\n    return (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        usersApi.getUsers(currentPage, pageSizes)\r\n            .then(data => {\r\n                dispatch(toggleIsFetching(false))\r\n                dispatch(setUsers(data.items))\r\n                dispatch(setTotalUsersCount(data.totalCount))\r\n            })\r\n    }\r\n}\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let data = await apiMethod(userId)\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\nexport const unfollowThunk = (userId) => async dispatch => {\r\n    followUnfollowFlow(dispatch, userId, usersApi.unfollow.bind(usersApi), unfollowSuccess)\r\n}\r\nexport const followThunk = (userId) => async dispatch => {\r\n    followUnfollowFlow(dispatch, userId, usersApi.follow.bind(usersApi), followSuccess)\r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend-list\":\"FriendList_friend-list__Crp9a\"};","module.exports = __webpack_public_path__ + \"static/media/logo.00c32955.png\";"],"sourceRoot":""}